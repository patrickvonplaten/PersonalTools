#!/usr/bin/env python3 
import sys
import pyhtk
import ipdb

name = sys.argv[1]
MMFFilePaths=sys.argv[2:]
#name = 'CNNLayer1Filter50_kernels'
#name = 'CNNLayer1_kernels'
#name = 'FCLayer1_weight'

def getWeights(layerName, hmmSet):
    return hmmSet.getNMatrixTable()[layerName].getValuesAsNumPyArray()

def print_layer_values(MMFFilePath, layerName):
    hmmSet = pyhtk.HTKModelReader(MMFFilePath, '').getHiddenMarkovModelSet()
    layerArray = getWeights(layerName, hmmSet)
    print('layerArray[0][:20]: {}'.format(layerArray[0][:20]))

for MMFFilePath in MMFFilePaths:
    print('Print values for MMFFilePath: {}'.format(MMFFilePath))
    print_layer_values(MMFFilePath, name)

